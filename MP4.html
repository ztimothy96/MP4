<!DOCTYPE html>
<!-- saved from url=(0073)https://illinois-cs418.github.io/Examples/PhongReflection/HelloPhong.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Hello Phong</title>
    
<script id="shader-vs" type="x-shader/x-vertex">
//input
attribute vec3 aVertexPosition;
attribute vec3 aVertexNormal;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;
uniform mat3 uNMatrix;

//output
varying vec3 normalEyeInterp;
varying vec3 vertexPositionEye3;

void main(){
    gl_Position = uPMatrix*uMVMatrix*vec4(aVertexPosition, 1.0);
    vec4 vertexPositionEye4 = uMVMatrix * vec4(aVertexPosition, 1.0);
    vertexPositionEye3 = vertexPositionEye4.xyz;
    normalEyeInterp = uNMatrix * aVertexNormal; 
}
</script>
    
<script id="shader-fs" type="x-shader/x-fragment">
precision mediump float; 

//input
varying vec3 normalEyeInterp;
varying vec3 vertexPositionEye3;

uniform vec3 uAmbientMaterialColor;
uniform vec3 uDiffuseMaterialColor;
uniform vec3 uSpecularMaterialColor;
uniform vec3 uLightPosition;
uniform vec3 uAmbientLightColor;
uniform vec3 uDiffuseLightColor;
uniform vec3 uSpecularLightColor;

uniform float uShininess;

void main() {

    vec3 normalEye = normalize(normalEyeInterp);
    vec3 vectorToLightSource = normalize(uLightPosition - vertexPositionEye3);
    float diffuseLightWeightning = max(dot(normalEye, 
                                    vectorToLightSource), 0.0);
    vec3 reflectionVector = normalize(reflect(-vectorToLightSource, 
                                             normalEye));
    vec3 viewVectorEye = -normalize(vertexPositionEye3);
    float rdotv = max(dot(reflectionVector, viewVectorEye), 0.0);
    float specularLightWeightning = pow(rdotv, uShininess);
    gl_FragColor = vec4(((uAmbientLightColor*uAmbientMaterialColor)
                + (uDiffuseLightColor*uDiffuseMaterialColor) * diffuseLightWeightning
                + (uSpecularLightColor*uSpecularMaterialColor) * specularLightWeightning),1.0);
}

</script>
    
<script src="gl-matrix-min.js"></script>
    
<script src="webgl-utils.js"></script>
    
<script src="simpleModeling.js"></script>

<script src="sphere.js"></script>
    
<script src="MP4.js"></script>
    

    
</head>   
<body onload="startup();">
 <canvas id="myGLCanvas" width="800" height="800"></canvas>

    <form>
  Set the shading parameters for the Phong reflectance model:
<div>
  <input type="range" id="ambient" name="ambient" min="0.0" max="1.0" step="0.1" value="0.0">
  <label for="ambient">Ambient Intensity</label>
</div>
<div>
  <input type="range" id="diffuse" name="diffuse" min="0.0" max="1.0" step="0.1" value="1.0">
  <label for="diffuse">Diffuse Intensity</label>
</div>
<div>
  <input type="range" id="specular" name="specular" min="0.0" max="1.0" step="0.1" value="1.0">
  <label for="specular">Specular Intensity</label>
</div>
<div>

    Material color:
    <input id="mat-color" type="color" value="#ffff00">
    Material shininess:
    <input id="shininess" type="number" value="100">
  </div>      
    Light position (in View coordinates):
<label for="xlight">X:</label>
<input type="number" id="xlight" name="xlight" value="20.0">
 <label for="ylight">Y:</label>       
<input type="number" id="ylight" name="ylight" value="20.0">
<label for="zlight">Z:</label>      
<input type="number" id="zlight" name="zlight" value="20.0">
    </form>

</body></html>